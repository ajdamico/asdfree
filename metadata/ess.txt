chapter_title: European Social Survey

needs_local_build_status_line: yes

~~~{dataset_introduction}
The European Social Survey measures political opinion and behavior across the continent.
~~~

table_structure: * One table per country with one row per sampled respondent.

generalizable_population: * A complex sample survey designed to generalize to residents aged 15 and older in participating nations.

publication_period: * Released biennially since 2002.

administrative_organization: * Headquartered at [City, University of London](http://www.city.ac.uk/) and governed by [a scientific team across Europe](http://www.europeansocialsurvey.org/about/structure_and_governance.html).




~~~{reading_block}
Please skim before you begin:

1. 

2. 

3. This poem

```{r}
# 
# 
# 
```
~~~


~~~{download_and_import_block}

```{r , cache = TRUE }
library(foreign)

chapter_tag_be_df <- 
	read.spss( 
		file.path( 
			path.expand( "~" ) , 
			"ESS-Data-Wizard-subset-2023-01-17.sav/ESS-Data-Wizard-subset-2023-01-17.sav" 
		) ,
		to.data.frame = TRUE ,
		use.value.labels = FALSE
	)

chapter_tag_sddf_df <-
	read.spss(
		file.path(
			path.expand( "~" ) ,
			"ESS7SDDFe1_2.sav/ESS7SDDFe1_2.sav"
		) ,
		to.data.frame = TRUE ,
		use.value.labels = FALSE
	)	
```

~~~





~~~{analysis_examples_survey_design}
library(survey)

chapter_tag_df <-
	merge( 
		chapter_tag_be_df , 
		chapter_tag_sddf_df , 
		by = c( 'cntry' , 'idno' ) 
	)

stopifnot( nrow( chapter_tag_df ) == nrow( chapter_tag_be_df ) )

chapter_tag_design <- 
	svydesign(
		ids = ~psu ,
		strata = ~stratum ,
		probs = ~prob ,
		data = chapter_tag_df
	)
~~~

~~~{variable_recoding_block}
chapter_tag_design <- 
	update( 
		chapter_tag_design , 
		
		one = 1 ,
		
		non_european_immigrants =
			factor( impcntr ,
				labels = c( 'Allow many to come and live here' , 
				'Allow some' , 'Allow a few' , 'Allow none' )
			) ,
		
		sex = factor( icgndra , labels = c( 'male' , 'female' ) ) ,
			
		more_than_one_hour_tv_daily = as.numeric( tvtot >= 3 )
	)
~~~

group_by_variable: non_european_immigrants

categorical_variable: sex
categorical_narm: , na.rm = TRUE

linear_variable: ppltrst
linear_variable_description: Please tell me on a score of 0 to 10, where 0 means you can't be too careful and 10 means that most people can be trusted.

ratio_estimation_numerator: ppltrst
ratio_estimation_denominator: pplfair


subset_definition: vote == 1
subset_definition_description: voters

binary_variable: more_than_one_hour_tv_daily
binary_narm: , na.rm = TRUE

needs_srvyr_block: yes

~~~{replication_example_block}
## Replication Example {-}


```{r eval = FALSE , results = "hide" }

```

~~~


