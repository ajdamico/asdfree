chapter_title: Medical Large Claims Experience Study

needs_actions_build_status_line: yes

~~~{dataset_introduction}
The best private health insurance claims data available to the public.  This data should be used to calibrate other data sets, probably nothing more.
~~~

table_structure: * One table with one row per individual with nonzero total paid charges.

generalizable_population: * A convenience sample of group (employer-sponsored) health insurance claims from seven private health insurers in the United States.

publication_period: * 1997 thru 1999 with no expected updates in the future.

administrative_organization: * Provided by the [Society of Actuaries (SOA)](http://www.soa.org/).

~~~{reading_block}
Please skim before you begin:

1. [Group Medical Insurance Claims Database Collection and Analysis Report](https://www.soa.org/4937d6/globalassets/assets/files/research/exp-study/large_claims_report.pdf)

2. [Claim Severities, Claim Relativities, and Age: Evidence from SOA Group Health Data](https://papers.ssrn.com/sol3/papers.cfm?abstract_id=1412243)

3. This poem

```{r}
# skewed by black swan tails
# means, medians sing adieu
# claims distribution
```
~~~



~~~{download_and_import_block}

Download and import the Alabama household file:

(switch `sas_hal` to `sas_hak` for Alaska or `sas_hus` for the entire country)
```{r eval = FALSE }
library(haven)

tf <- tempfile()

this_url <-
	"https://www.soa.org/Files/Research/1999.zip"

download.file( this_url , tf , mode = 'wb' )

unzipped_files <- unzip( tf , exdir = tempdir() )

chapter_tag_df <- read.csv( unzipped_files )

names( chapter_tag_df ) <- tolower( names( chapter_tag_df ) )
```
~~~



~~~{analysis_examples_loading_block}

~~~

~~~{variable_recoding_block}
chapter_tag_df <- 
	transform( 
		chapter_tag_df , 
		
		claimant_relationship_to_policyholder =
			ifelse( relation == "E" , "covered employee" ,
			ifelse( relation == "S" , "spouse of covered employee" ,
			ifelse( relation == "D" , "dependent of covered employee" , NA ) ) ) ,
			
		ppo_plan = as.numeric( ppo == 'Y' )
	)
	
~~~

group_by_variable: claimant_relationship_to_policyholder
linear_variable: totpdchg
categorical_variable: patsex
subset_definition: ( ( claimyr - patbrtyr ) < 18 )
subset_definition_description: persons under 18
binary_variable: ppo_plan
needs_dplyr_block: yes


~~~{intermission_block}
<center>https://en.wikipedia.org/wiki/Lorem_ipsum</center>
~~~


